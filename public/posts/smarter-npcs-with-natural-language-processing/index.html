<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smarter NPCs with Natural Language Processing | Rian&#39;s Website</title>
  <meta name="description" content="Personal website and blog">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <nav>
      <ul>
        
      </ul>
    </nav>
  </header>
  
  <main>
    
<article>
  <h1>Smarter NPCs with Natural Language Processing</h1>
  <p>Published on May 23, 2018</p>
  
  <h2 id="what-happened-in-pokemon">What happened in Pokemon?</h2>
<p>I remember Pokemon on GameBoy. An excellent game with many characters. Like all games (till now - more on that soon) the conversations were somewhat forced. The most creative moment was choosing your name in the beginning. Almost all my interactions with non-player chracters (NPC) involved multiple choice answers at best, and pre-canned conversations at worst.</p>
<p><img src="/images/NLU/Pokemonconversationscreenshot.png" alt="Screenshot of a simple Yes or No answer to a question in Pokemon for Gameboy"></p>
<h2 id="games-have-evolved">Games have Evolved</h2>
<p>A decade after Pokemon was first released on Gameboy, Fallout 3 was one of the most popular games in the world. For all its quality graphics and cool story, the NPC interations remain remarkably unchanged.</p>
<p><img src="/images/NLU/fallout3multiplechoice.jpg" alt="Screenshot from Fallout 3 showing multiple choice answers"></p>
<h2 id="we-have-the-technology-we-can-do-better">We have the technology. We can do better</h2>
<p>What if you could actually talk to NPCs? Well, now you can!</p>
<h3 id="what-is-natural-language-understanding">What is Natural Language Understanding?</h3>
<blockquote>
<p>the application of computational techniques to the analysis and synthesis of natural language and speech.</p></blockquote>
<p>NLU, sometimes called Natural Language Processing (NLP), are methods for processing and using natural human speech or text in classical algorithms. Recent technological breakthroughs in Deep Learning have turbocharged NLU, and now you can use it in your own game or application.</p>
<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/1420_RC05/embed_loader.js"></script> <script type="text/javascript"> trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"deep learning","geo":"","time":"today 5-y"}],"category":0,"property":""}, {"exploreQuery":"date=today%205-y&q=deep%20learning","guestPath":"https://trends.google.com:443/trends/embed/"}); </script> 
<h3 id="sounds-hard">Sounds hard&hellip;</h3>
<p>Not really, check this out.</p>
<p>LUIS - the Language Understanding and Intelligence Service from Microsoft Azure - is super simple to use. You can follow <a href="https://docs.microsoft.com/en-us/azure/cognitive-services/luis/luis-get-started-create-app">this tutorial</a> and get started in just 10 minutes!</p>
<p>Aside: if you&rsquo;re in Australia, make sure you head to the au.luis.ai domain.</p>
<h3 id="whats-luis---the-quick-version">What&rsquo;s LUIS - the quick version</h3>
<p>LUIS is a web service, invoked via a REST endpoint, that converts sentences (called &lsquo;utterances&rsquo;) like this:</p>
<p><code>Order me 2 pizzas</code></p>
<p>into data structures like this:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>   <span style="color:#0a3069">&#34;query&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;Order me 2 pizzas&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>   <span style="color:#0a3069">&#34;topScoringIntent&#34;</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>       <span style="color:#0a3069">&#34;intent&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;FoodOrder&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>       <span style="color:#0a3069">&#34;score&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">0.9999981</span>
</span></span><span style="display:flex;"><span>   <span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>   <span style="color:#0a3069">&#34;intents&#34;</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">[</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;intent&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;FoodOrder&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;score&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">0.9999981</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;intent&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;None&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;score&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">0.0604290478</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;intent&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;Reminder&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;score&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">0.00177723425</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>   <span style="color:#1f2328">],</span>
</span></span><span style="display:flex;"><span>   <span style="color:#0a3069">&#34;entities&#34;</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">[</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;entity&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;2&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;type&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;builtin.number&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;startIndex&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">9</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;endIndex&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">9</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;resolution&#34;</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>               <span style="color:#0a3069">&#34;value&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;entity&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;pizzas&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;type&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;FoodType&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;startIndex&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">11</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;endIndex&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">16</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#0a3069">&#34;score&#34;</span><span style="color:#0550ae">:</span> <span style="color:#0550ae">0.8928091</span>
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>   <span style="color:#1f2328">]</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>If you&rsquo;re making a game or an app, and you can make web requests, then you can have NPCs that respond to natural language!</p>
<h2 id="now-for-the-good-part">Now for the good part</h2>
<p>Modern games are much more sophisticated than Gameboy Pokemon and Fallout 3. Cutting edge games are now in virtual reality (VR) on platforms like <a href="https://www.vive.com/">Vive</a>, <a href="https://www.oculus.com/">Oculus</a>, and <a href="https://www.microsoft.com/en-au/windows/windows-mixed-reality">Windows Mixed Reality</a>. But we&rsquo;re starting to use VR for other interesting applications.</p>
<h3 id="experience-a-new-language-in-vr-with-v-kaiwa">Experience a New Language in VR with V-KAIWA</h3>
<p><a href="http://www.v-kaiwa.com/en/home/">V-KAIWA</a> are building an amazing tool for students to experience language learning in VR. Beyond building stylised worlds and engaging story lines, V-KAIWA are building customisable conversational NPCs. Let&rsquo;s break that down.</p>
<h4 id="conversational-npcs">Conversational NPCs</h4>
<p>As the name suggests, a conversational NPC is a character with which you can converse. OK, so they aren&rsquo;t going to pass a <a href="https://en.wikipedia.org/wiki/Turing_test">Turing test</a>, but they can respond to natural language. Ask the hot dog vendor on the street for a hot dog, and you&rsquo;ll get one! Ask a stranger for directions, and they&rsquo;ll help! But if you ask a stranger for the meaning of life - of course you&rsquo;ll get a silly answer (actually that&rsquo;s kind of realistic).</p>
<h4 id="customisable-npcs">Customisable NPCs</h4>
<p>V-KAIWA let&rsquo;s language teachers customise the way their students can converse with NPCs. How does this work in practice? Imagine a language class on recognising descriptions of people and objects. The teacher can describe a person (a woman in a jacket) and name an item (a newspaper) and the students must complete a scenario in the virtual world. The teacher can build precisely that conversation scenario in V-KAIWA&rsquo;s designer tool!</p>
<p><img src="/images/NLU/vkaiwadesigner.gif" alt="Creating an NPC interaction definition in the V-KAIWA interaction designer"></p>
<p>When the student find the newspaper, he can talk with the woman.</p>
<blockquote>
<p><em>Student</em>: Here&rsquo;s the newspaper you asked for.
<em>Woman in Jacket</em>: Thanks, I was looking for one of those.</p></blockquote>
<p>It&rsquo;s almost too easy.</p>
<h4 id="sugar-on-top">Sugar on top</h4>
<p>By using speech-to-text and speech synthesis tools, V-KAIWA make every NPC interaction aural. You can speak directly to NPCs, and they speak back. LUIS means you can speak naturally. <a href="https://docs.microsoft.com/en-us/windows/mixed-reality/gaze-targeting">Gaze</a> means you speak to the NPC you&rsquo;re looking at.</p>
<p><img src="/images/NLU/vkaiwaarchitecture.png" alt="System design of V-KAIWAs customisable conversational NPCs"></p>
<h3 id="i-want-that">I want that!</h3>
<p>Well you can have it! There&rsquo;s a great blog written by some of my collegues at <a href="http://www.roadtomr.com/2018/05/08/2508/natural-language-for-simulations/">Road to MR</a> describing how to use LUIS in your Unity project. They&rsquo;ve created a great Unity Package you can use to get started quickly.</p>
<p>What about the designer? It&rsquo;s also open source and <a href="https://github.com/xtellurian/v-kaiwa-designer">available on github</a></p>
<h2 id="cse-hacks">CSE Hacks</h2>
<p>This work was a collaboration between Microsoft and V-KAIWA. Big thanks to them for letting me work on their exciting product.</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Seiya presenting at <a href="https://twitter.com/Microsoft?ref_src=twsrc%5Etfw">@Microsoft</a> <a href="https://twitter.com/Microsoft?ref_src=twsrc%5Etfw">@microsoft</a> Mixed Reality Hackfest - our beginners product did a complete 180 (in a good way!) - full demo video coming soon 😉 <br><br>And special props <a href="https://twitter.com/xtellurian?ref_src=twsrc%5Etfw">@xtellurian</a> for being part of V-KAIWA for the week 🤓 <a href="https://t.co/bmhUpQItKC">pic.twitter.com/bmhUpQItKC</a></p>&mdash; V-KAIWA (@v_kaiwa) <a href="https://twitter.com/v_kaiwa/status/997417548852310017?ref_src=twsrc%5Etfw">May 18, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  
  
  <div class="tags">
    <p>Tags: 
    
    <span class="tag">smarter-npcs-with-natural-language-processing</span>
    
    </p>
  </div>
  
</article>

<nav class="post-nav">
  
  <a href="/posts/bots-in-kubernetes/" class="next">← Bots in Kubernetes</a>
  
  
  <a href="/posts/xamarin-chatbots/" class="prev">Building Xamarin.Forms Chatbots with Bot Framework Direct Line API →</a>
  
</nav>

  </main>
  
  <footer>
    <p>&copy; 2025 Rian Finnegan. All rights reserved.</p>
  </footer>
</body>
</html>
